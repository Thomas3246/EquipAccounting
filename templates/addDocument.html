<!DOCTYPE html>
<html lang="ru">
{{define "content"}}

<body>
    <div class="form-container">
        <h2>Добавление документа к заявке</h2>
        
        <form method="POST" action="/request/{{.RequestId}}/addDocument" enctype="multipart/form-data">
            
            <div class="form-group">
                <label for="document_type">Тип документа:</label>
                <select name="document_type_id" required>
                    <option value="" selected disabled>Выберите тип документа</option>
                    {{range .DocumentTypes}}
                        <option value="{{.Id}}">{{.Name}}</option>
                    {{end}}
                </select>
                {{if .DocSizeError}}
                    <div class="error-message">{{.DocSizeError}}</div>
                {{end}}
            </div>
            
            <div class="form-group">
                <label for="document_file" class="file-label">
                    <span class="file-button">Выберите файл</span>
                    <span class="file-name">
                        <output id="file-output">Файл не выбран (до 16 МБ)</output>
                    </span>
                    <input type="file" 
                           id="document_file" 
                           name="document_file" 
                           required
                           accept=".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png"
                           onchange="document.getElementById('file-output').textContent = this.files[0] ? this.files[0].name : 'Файл не выбран (до 16 МБ)'">
                </label>
                <small class="hint">Поддерживаемые форматы: PDF, DOC, XLS, JPG, PNG</small>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-accent">
                    <svg class="icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                        <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                    </svg>
                    Загрузить документ
                </button>
                <a href="/request/{{.RequestId}}" class="btn">Отмена</a>
            </div>
        </form>
    </div>
</body>
{{end}}
</html>
<!DOCTYPE html>
<html lang="ru">
{{define "content"}}

    <header>
        <nav>
            <a href="/allactive">Активные заявки</a>
            <a href="/allactive/{{.UserLogin}}">Мои активные заявки</a>
            <a href="/allclosed">Закрытые заявки</a>
            <a href="/allclosed/{{.UserLogin}}">Мои закрытые заявки</a>
            <a href="/newRequest">Новая заявка</a>
        </nav>
    </header>

    <div class="request-container">
        <h2>
            {{if eq .Flag "allactive"}}Активные заявки вашего отдела{{end}}
            {{if eq .Flag "alluseractive"}}Ваши активные заявки{{end}}
            {{if eq .Flag "allclosed"}}Закрытые заявки вашего отдела{{end}}
            {{if eq .Flag "alluserclosed"}}Ваши закрытые заявки{{end}}
        </h2>

        {{if .Requests}}
            {{range .Requests}}
            <a href="/request/{{.Id}}" class="request-item">
                <div class="request-field"><strong>ID:</strong> {{.Id}}</div>
                <div class="request-field"><strong>Тип:</strong> {{.Type}}</div>
                <div class="request-field"><strong>Описание:</strong> {{.Description}}</div>
                <div class="request-field"><strong>Автор:</strong> {{.Author}}</div>
                <div class="request-field"><strong>Статус:</strong> {{.Status}}</div>
                <div class="request-field"><strong>Создана:</strong> {{.CreatedAt}}</div>
                <div class="request-field"><strong>Закрыта:</strong> {{.ClosedAt}}</div>
                <div class="request-field"><strong>Оборудование:</strong> {{.Equipment}}</div>
            </a>
            {{end}}
        {{else}}
            <div class="no-requests">
                <p>Нет подходящих заявок.</p>
            </div>
        {{end}}

        <form action="/logout" method="GET">
            <button type="submit">Выйти</button>
        </form>
    </div>
{{end}}
</html>
